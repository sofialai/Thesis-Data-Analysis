"0","dat1 <- read_excel(""responses-eng.xlsx"")"
"2","New names:
* `How would you use your additional income?` -> `How would you use your additional income?...16`
* `Ideally, around what percentage would you like to reduce your weekly working hours?` -> `Ideally, around what percentage would you like to reduce your weekly working hours?...17`
* `Ideally, around what percentage would you like to reduce your weekly working hours?` -> `Ideally, around what percentage would you like to reduce your weekly working hours?...21`
* `What would you do with your additional free time?` -> `What would you do with your additional free time?...22`
* `How would you use your additional income?` -> `How would you use your additional income?...26`
* ...
"
"0","dat1 <- dat1 %>% "
"0","  rename(""empl"" = ""Are you currently employed or have been employed during the last 12 months?"", "
"0","         ""ger"" = ""Are you currently living in Germany?"", "
"0","         ""income"" = ""What is your current gross annual income (EUR)?"", "
"0","         ""gender"" = ""What is your gender?"","
"0","         ""age"" = ""How old are you?"","
"0","         ""hours"" = ""How many weekly hours are you currently working?"", "
"0","         ""job_boring"" = ""I consider my job boring"","
"0","         ""job_interesting"" = ""I consider my job interesting"", "
"0","         ""job_repetitive"" = ""My job consists of repetitive tasks"", "
"0","         ""job_stimulating"" = ""I perceive my job as stimulating"", "
"0","         ""job_social_status"" = ""My job gives me social status"", "
"0","         ""job_ashamed"" = ""I am ashamed of my job"", "
"0","         ""job_satisfied"" = ""I am satisfied with my job"", "
"0","         ""job_unsatisfied"" = ""I am not satisfied with my job"", "
"0","         ""ubi_300"" = ""Universal basic income (UBI) is defined as a monthly transfer of money, independent of any requirements. What would you do with a UBI of EUR 300?"", "
"0","         ""what_income_300"" = ""How would you use your additional income?...16"", "
"0","         ""what_less_300"" = ""Ideally, around what percentage would you like to reduce your weekly working hours?...17"", "
"0","         ""what_time_300"" = ""What would you do with the extra free time?"", "
"0","         ""change_500"" = ""Consider now a monthly UBI of EUR 500. Would your previous answers change?"", "
"0","         ""ubi_500"" = ""What would you do with a monthly UBI of EUR 500?"", "
"0","         ""what_less_500"" = ""Ideally, around what percentage would you like to reduce your weekly working hours?...21"", "
"0","         ""what_time_500"" = ""What would you do with your additional free time?...22"", "
"0","         ""what_income_500"" = ""What would you do with your additional income?"", "
"0","         ""change_800"" = ""Finally, consider a monthly UBI of EUR 800. Would this change your previous answers?"", "
"0","         ""ubi_800"" = ""What would you do with a monthly UBI of EUR 800?"", "
"0","         ""what_income_800"" = ""How would you use your additional income?...26"", "
"0","         ""what_less_800"" = ""Ideally, around what percentage would you like to reduce your weekly working hours?...27"", "
"0","         ""what_time_800"" = ""What would you do with your additional free time?...28"", "
"0","         ""time_change"" = ""Assume you start receiving UBI from tomorrow. Over what period of time do you expect your chances of finding employment to improve?"", "
"0","         ""expect"" = ""Select which of the following applies to you."")  %>% "
"0","  replace_na(list(""job_boring"" = 0, "
"0","                  ""job_interesting"" = 0, "
"0","                  ""job_repetitive"" = 0, "
"0","                  ""job_stimulating"" = 0, "
"0","                  ""job_social_status"" = 0, "
"0","                  ""job_ashamed"" = 0, "
"0","                  ""job_satisfied"" = 0, "
"0","                  ""job_unsatisfied"" = 0)) %>% "
"0","  mutate(""job_boring"" = factor(ifelse(job_boring == 0, 0, 1)),"
"0","         ""job_interesting"" = factor(ifelse(job_interesting == 0, 0, 1)),"
"0","         ""job_repetitive"" = factor(ifelse(job_repetitive == 0, 0, 1)),"
"0","         ""job_stimulating"" = factor(ifelse(job_stimulating == 0, 0, 1)),"
"0","         ""job_social_status"" = factor(ifelse(job_social_status == 0, 0, 1)),"
"0","         ""job_ashamed"" = factor(ifelse(job_ashamed == 0, 0, 1)),"
"0","         ""job_satisfied"" = factor(ifelse(job_satisfied == 0, 0, 1)),"
"0","         ""job_unsatisfied"" = factor(ifelse(job_unsatisfied == 0, 0, 1)),"
"0","         hours = sub(""Less than 10"", ""0-10"", hours))"
"0",""
"0",""
"0","dat_1 <- dat1 %>% "
"0","  mutate(expect = case_when("
"0","    expect == ""I am currently employed part-time and UBI would increase my chances of finding full-time employment."" ~ ""Employed part-time, more chances of full-time employment with UBI"", "
"0","    expect == ""None of the above"" ~ ""No change with UBI"", "
"0","    expect == ""I am currently unemployed and UBI would increase my chances of finding part-time employment."" ~ ""Unemployed, more chances of part-time employment with UBI"", "
"0","    expect == ""I am currently unemployed and UBI would increase my chances of finding full-time employment."" ~ ""Unemployed, more chances of full-time employment with UBI"""
"0","  )) %>% "
"0","  replace_na(list(""expect"" = ""No change with UBI.""))"
"0",""
"0","#Removing invalid responses"
"0","dat_1 <- dat_1 %>% "
"0","  filter(empl == 1)"
"0",""
"0","#When change_500 = 0 => ubi_500 = NA, it means that the response would not change from the previous one, hence: when change_NA = 0 => ubi_500 = ubi_300 "
"0","#when change_800 = 0 => ubi_800 = NA => ubi_800 = ubi_500 "
"0",""
"0","dat2 <- dat_1 #duplicate data"
"0","dat2$ubi_500[is.na(dat2$ubi_500)] <- dat2$ubi_300[is.na(dat2$ubi_500)] #replace missing values of ubi_500 with values from ubi_300"
"0",""
"0","dat3 <- dat2 #duplicate data"
"0","dat3$ubi_800[is.na(dat3$ubi_800)] <- dat3$ubi_500[is.na(dat3$ubi_800)] #replace missing values of ubi_800 with values from ubi_500"
"0",""
"0",""
"0","#Ensuring response ""Stop working"" is included even if N=0 "
"0","dat3$ubi_300 <- fct_expand(dat3$ubi_300, ""Stop working"")"
"0","dat3$ubi_300 <- relevel(dat3$ubi_300, ref = ""Work the same amount as now"")"
"0","dat3$ubi_500 <- fct_expand(dat3$ubi_500, ""Stop working"")"
"0","dat3$ubi_500 <- relevel(dat3$ubi_500, ref = ""Work the same amount as now"")"
"0","dat3$ubi_800 <- fct_expand(dat3$ubi_800, ""Stop working"")"
"0","dat3$ubi_800 <- relevel(dat3$ubi_800, ref = ""Work the same amount as now"")"
"0",""
"0","#arrange columns alphabetically "
"0","dat3 <- dat3 %>% select(order(colnames(dat3)))"
"0",""
"0","##remove spaces between - in levels"
"0","dat4 <- dat3 %>% "
"0","  mutate(age = gsub("" "", """", age), "
"0","         income = gsub("" "", """", income),"
"0","         hours = gsub("" "", """", hours))"
"0",""
"0","#merge eng and ger data"
"0","dat <- rbind(dat_de_6, dat4)"
"0",""
"0","#formatting income levels, fixing typos"
"0","dat<- dat %>% "
"0","  mutate("
"0","    income = gsub(""0-15.000"", ""0-15,000"", income),"
"0","    income = gsub(""15.000-30.000"", ""15,000-30,000"", income),"
"0","    income = gsub(""30.000-45.000"", ""30,000-45,000"", income),"
"0","    income = gsub(""45.000-60.000"" ,  ""45,000-60,000"", income),"
"0","    income = gsub(""60.000"", ""60,000"", income))"
"0",""
"0",""
"0","dat <- dat %>% "
"0","  mutate("
"0","    what_income_300 = gsub(""Spend it in material goods"", ""Spend it for material goods"", what_income_300),"
"0","    what_income_500 = gsub(""Spent it in material goods"", ""Spend it for material goods"", what_income_500),"
"0","    what_income_500 = gsub(""Spend it in material goods"", ""Spend it for material goods"", what_income_500), "
"0","    what_income_800 = gsub(""Spent it in material goods"", ""Spend it for material goods"", what_income_800), "
"0","    what_income_800 = gsub(""Spend it in material goods"", ""Spend it for material goods"", what_income_800),"
"0","    what_income_800 = gsub(""Spent it for material goods"", ""Spend it for material goods"", what_income_800), "
"0","    what_income_300 = gsub(""Spend it for career training"", ""Spend it for career development training"", what_income_300), "
"0","    what_income_500 = gsub(""Spend it for career training"", ""Spend it for career development training"", what_income_500),"
"0","    what_income_800 = gsub(""Spend it for career training"", ""Spend it for career development training"", what_income_800))"
"0",""
"0","#all variables as factors"
"0","dat$income <- as.factor(dat$income)"
"0","dat$age <- as.factor(dat$age)"
"0","dat$gender <- as.factor(dat$gender)"
"0","dat$hours <- as.factor(dat$hours)"
"0","dat$ubi_300 <- as.factor(dat$ubi_300)"
"0","dat$ubi_500 <- as.factor(dat$ubi_500)"
"0","dat$ubi_800 <- as.factor(dat$ubi_800)"
"0","dat$what_income_300 <- as.factor(dat$what_income_300)"
"0","dat$what_income_500 <- as.factor(dat$what_income_500)"
"0","dat$what_income_800 <- as.factor(dat$what_income_800)"
"0",""
"0","dat <- dat %>% replace_na(list(c(""what_less_300"" = ""No reduction""),"
"0","                  (""what_less_500"" = ""No reduction""),"
"0","                  (""what_less_800"" = ""No reduction"")))"
"0",""
